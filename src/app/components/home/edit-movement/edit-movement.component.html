<div class="overlay" *ngIf="isVisible" (click)="close()"></div>
<div class="modal area" *ngIf="isVisible" (click)="$event.stopPropagation()">
  <h2 class="title">{{ "movements.edit" | translate }}</h2>

  <form [formGroup]="movementForm" (ngSubmit)="updateMovement()">
    <div class="form-group date-picker-form-group">
      <label for="date">{{ "calendar.date" | translate }}</label>

      <input
        class="form-control"
        name="dp"
        formControlName="date"
        ngbDatepicker
        id="date"
        #d="ngbDatepicker"
      />
      <button
        class="btn btn-outline-secondary bi bi-calendar3 calendar-icon-input"
        (click)="d.toggle()"
        type="button"
      >
        <i class="fa-solid fa-calendar"></i>
      </button>
    </div>

    <div class="form-group">
      <label for="type">{{ "movements.type" | translate }}</label>
      <select formControlName="type" id="type" class="form-control">
        <option *ngFor="let type of typeOptions" [value]="type">
          {{ ('movements.' + type.toLowerCase()) | translate }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="value">{{ "movements.value" | translate }}</label>
      <input
        formControlName="value"
        id="value"
        type="number"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="categories">{{ "movements.category" | translate }}</label>
      <select formControlName="category" id="category" class="form-control">
        <option *ngFor="let category of categories" [value]="category">
          {{ category }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="description">{{ "movements.description" | translate }}</label>
      <input
        formControlName="description"
        id="description"
        type="text"
        class="form-control"
      />
    </div>

    <button
      class="edit-movement-btn"
      type="submit"
      [disabled]="!movementForm.valid"
    >
      {{ "actions.update" | translate }}
    </button>
  </form>
  <button class="close-modal-btn" (click)="close()">
    <i class="fa-solid fa-xmark"></i>
  </button>
</div>
